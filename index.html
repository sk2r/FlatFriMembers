<!DOCTYPE html>
<html>
<head>
  <title>インタラクティブなサイネージv2.1</title>
  <meta charset="UTF-8">
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    #center-text {
      font-size: 2em;
      font-weight: bold;
      display: none;
      animation: fadeInAndOut 8.5s infinite; /* 8.5秒かけてフェードイン・アウトを行う */
    }
    @keyframes fadeInAndOut {
      0%, 100% { opacity: 0; } /* 0秒と8.5秒の時点で透明 */
      10%, 90% { opacity: 1; } /* 0.85秒と7.65秒の時点で完全に表示 */
    }
    #name {
      position: absolute;
      opacity: 0;
      animation: fadeInAndOutAndMove 8.5s infinite; /* 8.5秒かけてフェードイン・アウトと位置の移動を行う */
    }
    @keyframes fadeInAndOutAndMove {
      0%, 100% { opacity: 0; } /* 0秒と8.5秒の時点で透明 */
      10%, 90% { opacity: 1; } /* 0.85秒と7.65秒の時点で完全に表示 */
      10%, 90% {
        top: calc(Math.random() * (100vh - 2em)); /* ランダムな位置に変更 */
        left: calc(Math.random() * (100vw - 5em)); /* ランダムな位置に変更 */
      }
    }
    .popup {
      display: none;
      position: absolute;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div id="center-text">Flat Fri Members</div>

  <div id="name"></div>

  <div class="popup" id="popup">
    <p id="registrationNumber"></p>
    <p id="identity"></p>
    <p id="affiliation"></p>
  </div>

  <script>
    // サンプルデータ（仮定）
    const data = [
      { registrationNumber: 1, name: "山田太郎", identity: "社員", affiliation: "営業部" },
      { registrationNumber: 2, name: "佐藤花子", identity: "社員", affiliation: "総務部" },
      // 他のデータ
    ];

    // 表示する名前をランダムに選択する関数
    function getRandomName() {
      const randomIndex = Math.floor(Math.random() * data.length);
      return data[randomIndex].name;
    }

    // 名前を表示して、クリックしたらポップアップを表示する処理
    function displayRandomName() {
      const nameElement = document.getElementById("name");
      nameElement.innerText = getRandomName();
      hidePopup();
    }

    // ポップアップを表示する処理
    function showPopup(event) {
      const nameElement = document.getElementById("name");
      const clickedName = nameElement.innerText;
      const personData = data.find((person) => person.name === clickedName);

      const popup = document.getElementById("popup");
      popup.style.display = "block";
      popup.style.left = event.clientX + "px";
      popup.style.top = event.clientY + "px";

      const registrationNumberElement = document.getElementById("registrationNumber");
      const identityElement = document.getElementById("identity");
      const affiliationElement = document.getElementById("affiliation");

      registrationNumberElement.innerText = "登録番号：" + personData.registrationNumber;
      identityElement.innerText = "身分：" + personData.identity;
      affiliationElement.innerText = "所属：" + personData.affiliation;
    }

    // ポップアップを非表示にする処理
    function hidePopup() {
      const popup = document.getElementById("popup");
      popup.style.display = "none";
    }

    // 名前をクリックしたらポップアップ表示の処理を実行
    document.getElementById("name").addEventListener("click", showPopup);

    // 一定の間隔でランダムな名前を表示する処理
    displayRandomName();
    setInterval(displayRandomName, 8500); // 8500ミリ秒ごとに更新（8.5秒）
  </script>
</body>
</html>
